<!DOCTYPE html>
<html lang="en">
<head><title>Plugins</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" href="../../favicon.png">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../../layout/content.css">
<link rel="stylesheet" type="text/css" href="../../themes/light/content_theme.css">
<link rel="stylesheet" type="text/css" href="../../layout/layout.css">
<link rel="stylesheet" type="text/css" href="../../themes/light/layout_theme.css">

<link rel="stylesheet" type="text/css" href="../../layout/flex.css">
<link rel="stylesheet" type="text/css" href="../../custom.css">
</head>
<body>

<div class="header">
<img id="burger" src="../..//layout/pict/burger.png" 
onclick="toggleSidebar();return false;" class="toggle_narrow_only_inline" alt="Sidebar">

<a 
class="header_item "
href="../../../readme.html"><img 
class="logo_image" src="../../favicon.png" alt="Logo"></a><a 
class="header_item toggle_wide_only_inline"
href="../../../readme.html"><span class="">Home</span></a><a 
class="header_item toggle_wide_only_inline"
href="installation.html"><span class="">Installation</span></a><a 
class="header_item toggle_wide_only_inline"
href="usage.html"><span class="">Usage</span></a><a 
class="header_item toggle_wide_only_inline"
href="../index_page.html"><span class="">Index</span></a><a 
class="header_item toggle_narrow_only_inline"
href="../index_page.html"><img 
class="header_image index_image" src="../../layout/pict/search.png" alt="Index"></a><a 
class="header_item toggle_wide_only_inline"
href="https://github.com/arctrong/md2html"><span class="">GitHub</span></a>
<a href="../../../doc_src/sections/plugins.txt" class="source_file toggle_wide_only_inline" title="Source text">&lt;/&gt;</a>

<a href="templates.html" title="Previous: Templates"><img class="headerNavArrows"
src="../../layout/pict/previous_page_h21px.png" alt="Back"></a>

<a href="reference.html" title="Next: Reference"><img class="headerNavArrows"
src="../../layout/pict/next_page_h21px.png" alt="Next"></a>


<span class="headerTitle">Plugins</span>

</div>

<div class="sidebarWrapper">
<div class="sidebar">
    <table class="sidebarAligner">
        <tr><td class="valign_top">
            <div class="align_right toggle_narrow_only_block">
            <a class="sidebar_item_inline align_right" href="https://github.com/arctrong/md2html">GitHub</a>
            
            <a href="../../../doc_src/sections/plugins.txt" class="sidebar_item_inline source_file align_right" 
                title="Source text">&lt;/&gt;</a>
            
            </div>
            
            <a class="sidebar_item " href="../../../readme.html">Home</a>
            <a class="sidebar_item " href="overview.html">Overview</a>
            <a class="sidebar_item " href="quick_start.html">Quick start</a>
            <a class="sidebar_item " href="installation.html">Installation</a>
            <a class="sidebar_item " href="usage.html">Usage</a>
            <a class="sidebar_item " href="page_content.html">Page content</a>
            <a class="sidebar_item " href="templates.html">Templates</a>
            <a class="sidebar_item selected " href="plugins.html">Plugins</a>
            <a class="sidebar_item " href="reference.html">Reference</a>
            <a class="sidebar_item " href="development.html">Development</a>
            <h3>Useful links</h3>
            <a class="sidebar_item " href="https://daringfireball.net/projects/markdown/">Markdown</a>
            <a class="sidebar_item " href="https://mustache.github.io/">Mustache</a>
            <a class="sidebar_item " href="https://json.org/">JSON</a>
            <a class="sidebar_item " href="https://en.wikipedia.org/wiki/Glob_(programming)">GLOB</a>
        </td></tr>
        <tr><td class="bottom valign_bottom"><span class="poweredBy">Powered by <a class="poweredByLink"
            href="https://github.com/arctrong/md2html">md2html_py</a> 1.0.6</span>
        </td></tr>
    </table>
</div>
</div>

<p style="font-size:44px;font-weight:bold;margin:0 0 30px 0;">Plugins</p>

<div class="toc">
<ul>
<li><a href="#about-plugins">About plugins</a></li>
<li><a href="#relative-paths-plugin">"relative-paths" plugin</a></li>
<li><a href="#page-flows-plugin">"page-flows" plugin</a></li>
<li><a href="#page-variables-plugin">"page-variables" plugin</a></li>
<li><a href="#variables-plugin">"variables" plugin</a></li>
<li><a href="#index-plugin">"index" plugin</a></li>
<li><a href="#page-links-plugin">"page-links" plugin</a></li>
<li><a href="#ignore-plugin">"ignore" plugin</a></li>
<li><a href="#wrap-code-plugin">"wrap-code" plugin</a></li>
<li><a href="#include-file-plugin">"include-file" plugin</a></li>
</ul>
</div>
<hr />
<p><a name="index_entry_index_1"></a></p>
<h1 id="about-plugins">About plugins</h1>
<p>Plugins automate and simplify typical tasks and make the documentation more structural and easy
to use.</p>
<p>The main approach used by this program is no interference in the Markdown syntax. So the
documentation content must be readable in plain text even without processing by this program.
Plugins provide extra possibilities for the templates processing and visualization.</p>
<p>See <a href="reference.html#argument_file_example">here</a> for an example of how plugins are defined in 
the <em>argument file</em>.</p>
<hr />
<p><a name="relative_paths_plugin"></a></p>
<h1 id="relative-paths-plugin">"relative-paths" plugin</h1>
<p><strong>Motivation</strong></p>
<p>The program generates static HTML pages that reference other pages and resources like CSS and
pictures. The generated HTML pages may be located in different places of the project structure, 
so the same resources must be referenced differently from different pages.</p>
<p>In the following example:</p>
<pre class="highlight"><code class="language-shell">$ tree -L 2 --charset=ascii --dirsfirst
.
|-- doc
|   |-- about.html
|   `-- styles.css
|-- pict
|   `-- logo.png
`-- readme.html</code></pre>
<p>the reference to <code>styles.css</code> is:</p>
<ul>
<li><code>doc/styles.css</code> from the <code>readme.html</code> page;</li>
<li>and <code>styles.css</code> from the <code>about.html</code> page.</li>
</ul>
<p>This plugin automatically recalculates relative paths for certain pages depending on their location
and avoids manual definition of these paths for every page individually. It also allows 
substitution of such paths inside the documents.</p>
<p><strong>Definition</strong></p>
<p>Here's an example of the plugin definition:</p>
<pre class="highlight"><code>{
    "documents": [
        { "input": "readme.txt", "output": "readme.html", "title": "Home" },
        { "input": "doc_src/about.txt", "output": "doc/about.html", "title": "About" }
    ],
    "plugins": {
        "relative-paths": {
            "markers": ["path"],
            "paths": {
                "resource_path": "doc/",
                "pict": "doc/pict/"
            }
        }
    }
}</code></pre>
<p>This is the new syntax. The previous syntax (that doesn't support substitution inside documents)
is also supported:</p>
<pre class="highlight"><code>        "relative-paths": { "resource_path": "doc/" }</code></pre>
<p>In this example, <code>resource_path</code> and <code>pict</code> are path <em>codes</em>, and the corresponding values are 
paths themselves.</p>
<p>The plugin considers the paths and the current page location being relative to the
same location, that is the program invocation current directory in this case. When it
calculates the path with the code <code>resource_path</code> then:</p>
<ul>
<li>for the page <code>readme.html</code>, it'll return <code>doc/</code>;</li>
<li>for the page <code>doc/about.html</code> it'll return <code>""</code> (empty path, as they are located in the same
    directory).</li>
</ul>
<p><strong>Usage</strong></p>
<p>Include the following <em>tag</em> to the template:</p>
<pre class="highlight"><code>&lt;link rel="stylesheet" type="text/css" href="{{resource_path}}styles.css"/&gt;</code></pre>
<p>That's it. When a document using this template is generated, this tag will be replaced with
the desired path.</p>
<p>For substitution inside a document insert the text like this:</p>
<pre class="highlight"><code>![](&lt;!--path pict--&gt;logo.png) </code></pre>
<p>After the page is generated this fragment will look like this:</p>
<table>
<thead>
<tr>
<th>For page <code>readme.html</code></th>
<th>For page <code>doc/about.html</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>![](pict/logo.png)</code></td>
<td><code>![](../pict/logo.png)</code></td>
</tr>
</tbody>
</table>
<hr />
<p><a name="index_entry_index_2"></a>    </p>
<h1 id="page-flows-plugin">"page-flows" plugin</h1>
<p><strong>Motivation</strong></p>
<p>Sidebar provides quick access to different project pages. It's often very helpful to put a
sequence of pages that are intended to be read in order. Doing it manually is pretty
cumbersome and error-prone.</p>
<p>This plugin defines such pages sequences and and provides them for easy manipulation in templates.</p>
<p><strong>Definition</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may want to also look at the new syntax described
<a href="plugins.html#page_flows_new_syntax">here</a>.</p>
</div>
<p>In the <code>"plugins"</code> sections:</p>
<pre class="highlight"><code>{
    "documents": [
        { "input": "page1.txt", "output": "page1.html", "title": "Page 1" },
        { "input": "page2.txt", "output": "doc/page2.html", "title": "Page 2" },
        { "input": "page3.txt", "output": "doc/page3.html", "title": "Page 3" }
    ],
    "plugins": {
        "page-flows": {
            "sidebar": [
                { "link": "page1.html", "title": "Page 1" },
                { "link": "doc/page2.html", "title": "Page 2", "class": "align_right" },
                { "link": "doc/page3.html", "title": "Page 3", "highlight": true },
                { "link": "www.google.com", "title": "Search", "external": true }
            ]
        }
    }
}</code></pre>
<p>Here we see the page flow <code>sidebar</code> that contains four link definitions. Each link definition
has main attributes <code>link</code>, <code>title</code>, <code>external</code>. Also other arbitrary attributes (like <code>class</code>
and <code>highlight</code>) may be added and then used in the templates (will be discussed below).</p>
<p>In the above example the three pages are defined twice. To avoid such repetition the page flows 
may be defined directly in the <code>"documents"</code> section:</p>
<pre class="highlight"><code>{
    "documents": [
        { "input": "page1.txt", "title": "Page 1", "page-flows": ["sidebar"] },
        { "input": "page2.txt", "title": "Page 2", "page-flows": ["sidebar"] },
        { "input": "page3.txt", "title": "Page 3", "page-flows": ["sidebar"] }
    ],
    "plugins": {
        "page-flows": {}
    }
}</code></pre>
<p>But the plugin itself must be activated to make it work. So even if all page flows are defined
in the <code>"documents"</code> section the plugin empty definition must be added to the <code>"plugins"</code>
section.</p>
<p>The <code>"page-flows"</code> document definition may be carried out to the <code>"default"</code> section (not
demonstrated here). Several page flows may be defined and a single page may be a part of several
page flows.</p>
<p><strong>Usage</strong></p>
<p>In a template, each page flow is accessible by its name (<code>sidebar</code> in this example) and
provides the following structured data:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{sidebar}}</code></td>
<td>Iterable, returns <a href="#page_flow_page_structure">pages</a></td>
</tr>
<tr>
<td><code>{{sidebar.previous}}</code></td>
<td>Previous <a href="#page_flow_page_structure">page</a> if exists</td>
</tr>
<tr>
<td><code>{{sidebar.current}}</code></td>
<td>Current <a href="#page_flow_page_structure">page</a> if exists</td>
</tr>
<tr>
<td><code>{{sidebar.next}}</code></td>
<td>Next <a href="#page_flow_page_structure">page</a> if exists</td>
</tr>
<tr>
<td><code>{{sidebar.has_navigation}}</code></td>
<td>Boolean, <code>true</code> if ether previous or next page exist</td>
</tr>
<tr>
<td><code>{{sidebar.not_empty}}</code></td>
<td>Boolean, <code>true</code> if contains at least one page</td>
</tr>
</tbody>
</table>
<p><a name="page_flow_page_structure"></a>
The page has the following structure:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{link}}</code></td>
<td>The link that references the page. Recalculated for the current page</td>
</tr>
<tr>
<td><code>{{title}}</code></td>
<td>The title of the page</td>
</tr>
<tr>
<td><code>{{external}}</code></td>
<td>Boolean, external pages can never be current</td>
</tr>
<tr>
<td><code>{{first}}</code></td>
<td>Boolean, <code>true</code> if this is the first page in the sequence</td>
</tr>
<tr>
<td><code>{{last}}</code></td>
<td>Boolean, <code>true</code> if this is the last page in the sequence</td>
</tr>
<tr>
<td><code>{{class}}</code></td>
<td>Example of a custom arbitrary attribute</td>
</tr>
</tbody>
</table>
<p>This data is calculated for every page that uses this template. So for the current page we can 
know the previous and the next pages and render the navigations. Here's a simple example:</p>
<pre class="highlight"><code>{{#sidebar.previous}}&lt;a href="{{link}}"&gt;[PREVIOUS]&lt;/a&gt;{{/sidebar.previous}}
{{#sidebar.next}}&lt;a href="{{link}}"&gt;[NEXT]&lt;/a&gt;{{/sidebar.next}}</code></pre>
<div class="admonition tip">
<p class="admonition-title">Explanation</p>
<p><code>{{#sidebar.previous}}...{{/sidebar.previous}}</code> means that if <code>sidebar.previous</code> value 
exists then the enclosed content is rendered. <code>sidebar.previous</code> value is a page and has
attribute <code>link</code> that is used in the rendered block.</p>
</div>
<p>Also for the current page we have the whole page sequence of the page flow and can render this
list in the sidebar. As we know which page or pages are current, we can highlight this links.
Here's a simplified example of how the sidebar items may be rendered:</p>
<pre class="highlight"><code>&lt;ul&gt;{{#sidebar}}
&lt;li&gt;&lt;a class="sidebarItem{{#current}} selected{{/current}}" href="{{link}}"&gt;{{title}}&lt;/a&gt;&lt;/li&gt;
{{/sidebar}}&lt;/ul&gt;</code></pre>
<div class="admonition tip">
<p class="admonition-title">Explanation</p>
<p><code>{{#sidebar}}...{{/sidebar}}</code> means that for each item in the <code>sidebar</code> value (that is 
iterable) render the enclosed content. The items are pages and their attributes <code>link</code>,
<code>title</code> and <code>current</code> are used in the rendered block.</p>
</div>
<p>This documentation demonstrates pretty typical usage of this plugin. Also see the template
<code>doc_src/templates/multipage.html</code> and the <em>argument file</em> <code>md2html_args.json</code> for more
understanding of correspondence between the plugin's definition and usage.</p>
<p><a name="page_flows_new_syntax"></a>
<strong>New syntax</strong></p>
<p>In version 1.0.3 new syntax was introduced. The following example demonstrates the differences:</p>
<pre class="highlight"><code>.  .  .
    "plugins": {
        "page-flows": {
            "sections": { "groups": ["sidebar"] },
            "header": [
                { "link": "readme.html", "title": "Home" },
                { "link": "doc/content/sections/installation.html", "title": "Installation" },
                { "link": "doc/content/sections/usage.html", "title": "Usage" }
            ],
            "useful_links": { "title": "Useful links", "groups": ["sidebar"], "items": [
                { "link": "https://mustache.github.io/", "title": "Mustache", "external": true },
                { "link": "https://json.org/", "title": "JSON", "external": true }
            ]}
        },
    }
.  .  .</code></pre>
<p>The <code>useful_links</code> <em>page flow</em> is defined using the full syntax. The <em>page flow</em> has a title, a list
of groups and the content defined by the <code>items</code> attributes. The content definition is a list of
the pages just the same way as in the old syntax.</p>
<p>The <code>sections</code> <em>page flow</em> defines only the necessary attributes. The title is an empty string by
default. The content is empty initially and it may be defined in the <code>documents</code> section.</p>
<p>The <code>header</code> <em>page flow</em> uses the old syntax. Two syntaxes may be used in the same argument file
that makes the previously written documentation compatible with the new version of the program.</p>
<p>The purpose of this change is to remove specific elements from the
<a href="templates.html">templates</a> and to avoid boilerplates. Now sidebar <em>page flows</em> may be
defined solely in the argument file and the template file in the documentation project
may be updated with the other one taken from the outside without subsequent customization.
Here's a sidebar block that may be defined for the above argument file fragment:</p>
<pre class="highlight"><code>{{#sidebar}}
{{#title}}&lt;h3&gt;{{.}}&lt;/h3&gt;{{/title}}
{{#.}}&lt;a class="sidebar_item{{#current}} selected{{/current}}" href="{{link}}"&gt;{{title}}&lt;/a&gt;
{{/.}}
{{/sidebar}}</code></pre>
<p>The <code>sidebar</code> variable contains a list of <em>page flows</em> for which it's defined (here there are 
two such <em>page flows</em>). As each <em>page flow</em> now has a title then this title may be conditionally
rendered using the Mustache syntax. Elements <code>{{#.}}</code> and <code>{{/.}}</code> represent a current 
<em>page flow</em> that here is represented as a number of links. Current links are highlighted 
with the <code>selected</code> CSS class.</p>
<hr />
<p><a name="page_variables_plugin"></a></p>
<h1 id="page-variables-plugin">"page-variables" plugin</h1>
<p><strong>Motivation</strong></p>
<p>This plugin extracts variables from documents source text and provides these variables to be
used in the template.</p>
<p><strong>Definition</strong></p>
<pre class="highlight"><code>    "plugins": {
        "page-variables": {"variables": {"only-at-page-start": true} }
    }</code></pre>
<p><a name="index_entry_index_3"></a>
This means that variables will be extracted from the <em>page metadata</em> blocks with marker
<code>variables</code> and only from those blocks that are the first non-blank text on the page.
This is the definition of the default marker so it may be simplified to <code>"page-variables": {}</code>,
and this is the recommended form.</p>
<p><strong>Usage</strong></p>
<p>For the above plugin definition the metadata blocks may look like:</p>
<pre class="highlight"><code>&lt;!--variables {"title": "My page", "noPageTitle": true}--&gt;</code></pre>
<p>The marker is <code>variables</code> and it is case insensitive. The variables are <code>title</code> and <code>noPageTitle</code>
and the tags <code>{{title}}</code> and <code>{{noPageTitle}}</code> will be replaced with the defined values when
this page is processed.</p>
<p>The <em>page metadata</em> blocks will be removed from the source text if they are recognized and
processed by the defined markers.</p>
<p>The metadata content must be a valid <a href="https://json.org/">JSON</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Opening <code>&lt;!--</code> and closing markers <code>--&gt;</code> must not be used inside the metadata
section. Also consecutive hyphens <code>--</code> inside HTML comments may probably be a problem in some
browsers. In JSON strings, Unicode entities may be used to resolve these issues, i.e. string
<code>"&lt;!\u002D-text-\u002D&gt;"</code> will be interpreted as <code>"&lt;!--text--&gt;"</code>. Still, depending on the 
page content and the context, opening and closing markers, even when escaped in JSON, may 
cause unexpected result. Check it first if you really need to use these symbols.</p>
</div>
<hr />
<h1 id="variables-plugin">"variables" plugin</h1>
<p><strong>Motivation</strong></p>
<p>This plugin defines variables that are not bound to certain pages. Actually such values may be
included directly into the template with no need of using this plugin. But when the same template
is used by several projects it may be convenient to define some template variable parts that
different projects may substitute using their <em>argument files</em>.</p>
<p><strong>Definition</strong></p>
<pre class="highlight"><code>"variables": {"logo": "&lt;img src=\"logo.png\" /&gt;" }</code></pre>
<p><strong>Usage</strong></p>
<p>Tag (or tags) <code>{{{logo}}}</code> in the template will be substituted in the template. (Note that in
this case three pairs of curly braces are used to avoid HTML-escaping on substitution.)</p>
<hr />
<p><a name="index_entry_index_4"></a></p>
<h1 id="index-plugin">"index" plugin</h1>
<p><strong>Motivation</strong></p>
<p>Some terms, abbreviations and other kind of keywords may be defined, described and mentioned
in different pages within the documentation. Searching such keywords may be hard,
especially if the documentation is large. This plugin allows marking such points on the pages
as <em>index entries</em> and then collects these entries and put them together on a separate 
<em>index page</em>. See the <a href="../index_page.html">index page</a> of this documentation as an example.</p>
<p><strong>Definition</strong></p>
<pre class="highlight"><code>"plugins": {
    "index": {"index": {"output": "index_page.html", "title": "Index", "index-cache": "index_cache.json", 
                        "index-cache-relative": true, "letters": true, "letters-block": true }
            }
}</code></pre>
<p>This example defines one index with marker <code>index</code>. It's possible to define several indexes with
different markers.</p>
<p>All possible properties are listed in the table below. They are mostly the same as those 
of the <a href="reference.html#documents_section"><code>documents</code> section</a> so see that section for the
absent descriptions.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th align="center">Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>output-root</td>
<td>string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>output</td>
<td>string</td>
<td align="center">Yes</td>
<td></td>
<td>Index page that must be created: absolute or relative to the <code>output-root</code> property value</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>template</td>
<td>string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>link-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>include-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>no-css</td>
<td>boolean</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>add-link-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>add-include-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>page-flows</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>add-page-flows</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>verbose</td>
<td>boolean</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>report</td>
<td>boolean</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>index-cache</td>
<td>string</td>
<td align="center">Yes</td>
<td></td>
<td>Index cache file (see the note below)</td>
</tr>
<tr>
<td>index-cache-relative</td>
<td>boolean</td>
<td align="center">No</td>
<td>false</td>
<td><code>true</code> means that the index cache file location is defined relative to the index page location</td>
</tr>
<tr>
<td>letters</td>
<td>boolean</td>
<td align="center">No</td>
<td>false</td>
<td><code>true</code> means that the index page content will be divided by the terms first letters</td>
</tr>
<tr>
<td>letters-block</td>
<td>boolean</td>
<td align="center">No</td>
<td>false</td>
<td><code>true</code> means that all terms first letters will be listed at the top of the index page</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Index cache file</p>
<p><em>Index page</em> is generated using the entries from all the documents but
the program may regenerate the documentation project partially, i.e. it may regenerate
only those documents that were changed or added since the previous program run.
In order to always generate a complete index page the program uses an <em>index cache file</em>
that keeps the collected index entries between the runs.</p>
<p>In some cases a forceful full regeneration (with <code>-f</code> flag or <code>"force": true</code> option, 
see <a href="usage.html">here</a> for more details) is required, for example, if the "index" plugin is
activated on an existing project or if the index cache file is deleted. </p>
<p>Index cache file is a generated artifact so in case of any problem it may be manually deleted
and the further forceful full documents regeneration may resolve the problem.</p>
</div>
<p><strong>Usage</strong></p>
<p>Index entries may be added in two different ways:
<a name="escaped_code_text_example"></a></p>
<ul>
<li>using a single-term entry like <code>&lt;!--index Term 2 --&gt;</code>;</li>
<li>using a multiple-term entry like <code>&lt;!--INDEX ["term 1", "term 3"]--&gt;</code>.</li>
</ul>
<p>The <code>index</code> marker is case-insensitive. If the above two entries are added then the index page
will be generated with terms "term 1", "Term 2" and "term 3" in the sorted order.</p>
<p>In the index page, the term list will be included into a <code>&lt;div class="index-content"&gt;</code> element.
The term first letter delimiters will look like this:</p>
<pre class="highlight"><code>&lt;p class="index-letter" id="index_letter_A"&gt;A&lt;/p&gt;</code></pre>
<p>The terms themselves will look like this:</p>
<pre class="highlight"><code>&lt;p class="index-entry"&gt;&lt;a href="usage.html#index_entry_1" title="Usage"&gt;argument file&lt;/a&gt;&lt;/p&gt;</code></pre>
<p>The first letter link block will look like this:</p>
<pre class="highlight"><code>&lt;p class="index_letters"&gt;
    &lt;a href="#index_letter_A"&gt;A&lt;/a&gt;
    &lt;a href="#index_letter_C"&gt;C&lt;/a&gt;
    .  .  .
&lt;/p&gt;</code></pre>
<p>The above information allows define desirable styling with CSS.</p>
<hr />
<h1 id="page-links-plugin">"page-links" plugin</h1>
<p><strong>Motivation</strong></p>
<p>HTML pages inside documentation usually reference each other using links. A link specifies its 
target relative to the page where it's placed. When the target page is moved or renamed the link
need to be modified accordingly, otherwise it won't work. And what's worse, all pages that
reference the relocated page need to be found and modified. This plugin automatically calculates 
link target pages location thus eliminating the need of specifying them manually.</p>
<p><strong>Definition</strong></p>
<p>To make this plugin work the target document must have a <code>code</code>. Here is an example of an argument
file that uses this plugin:</p>
<pre class="highlight"><code>{
    "documents": [
        { "input": "page1.txt", "code": "p1" },
        { "input": "subdir/page2.txt", "code-from-variable": "code" }
    ],
    "plugins": {
        "page-variables": {},
        "page-links": { "markers": ["page"] }
    }
}</code></pre>
<p>The first page has a code <code>p1</code> specified in the document definition. The second page has a code
(let's say <code>p2</code>) specified in the page <em>metadata</em> (see the 
<a href="#page_variables_plugin">"page-variables" plugin</a>), variable <code>code</code>. If page <em>metadata</em> is used
then "page-variables" plugin must be activated.</p>
<p><em>Marker</em> <code>page</code> is defined in the "page-links" plugin. There may be several markers.</p>
<p><strong>Usage</strong></p>
<p>On the page <code>page1.txt</code> the following link to the page <code>subdir/page2.txt</code> may be added: 
<code>[](&lt;!--page p2--&gt;#some_anchor)</code> and the plugin will convert it to 
<code>[](subdir/page2.html#some_anchor)</code>. Consequently link <code>[](&lt;!--page p1--&gt;)</code> on the second page will
become <code>[](../page1.html)</code>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<ol>
<li>If a page is moved or renamed, some other pages may need to be regenerated to reflected this
    change. But those pages may be up-to-date, so a forceful full regeneration may be required
    (with <code>-f</code> flag or <code>"force": true</code> option, see <a href="usage.html">here</a> for more details).</li>
<li>Changing a page's <code>code</code> will invalidate all links that reference this page by its <code>code</code>.</li>
</ol>
</div>
<hr />
<h1 id="ignore-plugin">"ignore" plugin</h1>
<p><strong>Motivation</strong></p>
<p>Different plugins fulfill page metadata substitution. But sometimes it's required to show a
metadata block without substitutions. To achieve that, there are methods that use direct HTML
inclusions and masking, but they are quite tedious and cumbersome. This plugin gives an easy
way of doing that.</p>
<p><strong>Definition</strong></p>
<p>Here is an example of an <em>argument file</em> that uses this plugin:</p>
<pre class="highlight"><code>{
    "documents": [
        { "input": "page1.txt" }
    ],
    "plugins": {
        "ignore": { "markers": ["ignore"] }
    }
}</code></pre>
<p>The example shows the default <em>marker</em> usage, so the other, and recommended, way is the following 
definition: <code>"ignore": { }</code>. There may be several markers if required.</p>
<p><strong>Usage</strong></p>
<p>Let's consider two different code blocks:</p>
<pre class="highlight"><code>![](../../pict/logo.png)</code></pre>
<p>and </p>
<pre class="highlight"><code>![](&lt;!--path pict--&gt;logo.png)</code></pre>
<p>In the first block the source text is <code>![](&lt;!--path pict--&gt;logo.png)</code> and substitution
is fulfilled, while in the second block the source text is 
<code>![](&lt;!--ignore path pict--&gt;logo.png)</code> so substitution is omitted.</p>
<hr />
<p><a name="wrap_code_plugin"></a></p>
<h1 id="wrap-code-plugin">"wrap-code" plugin</h1>
<p><strong>Motivation</strong></p>
<p>Pages may contain links to source code files like Java (*.java), Python (*.py), XML (*.xml), 
and so on. When viewing such pages locally (as HTML files) the linked files are often opened by
browsers as text. When the page is published and is viewed by URL, the browsers will often 
offer downloading the linked files that's very inconvenient and significantly slows down the
documentation usage.</p>
<p>The "wrap-code" plugin wraps source code files into HTML pages and provides links to these
wrapping pages.</p>
<p><strong>Definition</strong></p>
<p>The plugin definition may look like this:</p>
<pre class="highlight"><code>    "plugins": {
        . . .
        "wrap-code": {
            "wrap_java": {"style": "code", "input-root": "projects/", "output-root": "doc/code",
                "template": "doc_src/templates/code.html", "variables": {"noPageTitle": true}},
            "wrap_xml": {"style": "xml", "input-root": "projects/", "output-root": "doc/code",
                "template": "doc_src/templates/code.html", "variables": {"noPageTitle": true}}
        }
        . . .
    }</code></pre>
<p>In this example <code>wrap_java</code> and <code>wrap_xml</code> are markers to be used in the placeholders (see below).
The markers define the wrapping HTML page generation options: where to take the source code files, 
where to place the wrapping HTML pages, which rendering style and template to use.</p>
<p>All possible properties are listed in the table below. They are mostly the same as those 
of the <a href="reference.html#documents_section"><code>documents</code> section</a> so see that section for the
absent descriptions.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th align="center">Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>input-root</td>
<td>string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>output-root</td>
<td>string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>template</td>
<td>string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>link-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>include-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>no-css</td>
<td>boolean</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>add-link-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>add-include-css</td>
<td>array of string</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>verbose</td>
<td>boolean</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>report</td>
<td>boolean</td>
<td align="center">No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>style</td>
<td>string</td>
<td align="center">No</td>
<td><em>empty string</em></td>
<td>style, like <code>code</code>, <code>shell</code>, etc.</td>
</tr>
<tr>
<td>variables</td>
<td>object</td>
<td align="center">No</td>
<td><em>empty</em></td>
<td>additional variables to be used in the template</td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<p>Let's say there's the file <code>projects/hello/Main.java</code> with the content:</p>
<pre class="highlight"><code class="language-code">public class Main {
    public static void main(String[] args) {
        System.out.println("Hi!");
    }
}</code></pre>
<p>To link this file in a source text, use something like this: </p>
<pre class="highlight"><code>The main class is [here](&lt;!--wrap_java hello/Main.java--&gt;).</code></pre>
<p>As the result, the new file <code>doc/code/hello/Main.java.html</code> will be generated based on the
following transformed content:</p>
<pre><code>````code
public class Main {
    public static void main(String[] args) {
        System.out.println("Hi!");
    }
}
````
</code></pre>
<p>The source text will be transformed like this:</p>
<pre class="highlight"><code>The main class is [here](../code/hello/Main.java.html).</code></pre>
<p>An example may be viewed <a href="../code/hello/Main.java.html">here</a>. Also see the argument file 
<code>md2html_args.json</code> in this project.</p>
<p>The following additional variables may be used in the template:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{wrap_code_path}}</code></td>
<td>Path to the wrapped file</td>
</tr>
<tr>
<td><code>{{wrap_code_file_name}}</code></td>
<td>The wrapped file name</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The wrapping HTML file will be generated (or regenerated) only if the source text is processed.
To assure regeneration, use <code>-f</code> flag or <code>"force": true</code> option (see <a href="usage.html">here</a> 
for more details).</p>
</div>
<hr />
<h1 id="include-file-plugin">"include-file" plugin</h1>
<p><strong>Motivation</strong></p>
<p>When writing and running program code, it may be desired to place some source code into the
documentation. Just copy-pasting will require updating documentation each time the source code 
is changed. <a href="#wrap_code_plugin">"wrap-code" plugin</a> may help by generating a separate page
for this code. But if the source text is small it may be better to show it directly in the text 
where it's described. This plugin does such kind of inclusion.</p>
<p><strong>Definition</strong></p>
<p>The plugin is defined the following way:</p>
<pre class="highlight"><code>    "plugins": {
        . . .
        "include-file": [
            { "markers": ["include_code"], "root-dir": "sample_code/", "trim": true },
            { "markers": ["include_text1", "include_text2"], "root-dir": "sample_text/" }
        ],
        . . .
    }</code></pre>
<p>In this example:</p>
<ul>
<li><code>include_code</code> is the marker to be used in the placeholders (see below).
    There may be several markers;</li>
<li><code>sample_code/</code> and <code>sample_text/</code> define the places where to take the source code files;</li>
<li><code>"trim": true</code> defines whether to trim leading and trailing white spaces (<code>true</code> by default).</li>
</ul>
<p><strong>Usage</strong></p>
<p>By adding the following content on the page:</p>
<pre class="highlight"><code>````code
&lt;!--include_code hello/Main.java--&gt;
````</code></pre>
<p>we will get the following output:</p>
<pre class="highlight"><code class="language-code">public class Main {
    public static void main(String[] args) {
        System.out.println("Hi!");
    }
}</code></pre>
<p>&nbsp;</p>
<hr />

<p style="margin-top:0px;margin-bottom:0px;text-align:right;"><a href="templates.html" 
title="Previous: Templates"><img src="../../layout/pict/previous_page.png"
alt="Back"></a>
<a href="reference.html" title="Next: Reference"><img 
src="../../layout/pict/next_page.png" alt="Next"></a>
</p>

<script>
function toggleSidebar() {
    let sidebar = document.getElementsByClassName("sidebarWrapper")[0]
    let display = sidebar.style.display
    if (!display || display == "none") {
        sidebar.style.display = "block"
    } else {
        sidebar.style.display = ""
    }
}
</script>

</body>
</html>
